{"repository":"biojava","prod_path":"biojava3-structure/src/main/java/org/biojava/bio/structure/scop/ScopDescription.java","test_path":"biojava3-structure/src/test/java/org/biojava/bio/structure/scop/ScopDescriptionTest.java","prod_time":"2011-10-25 06:16:47","test_time":"","type":"","proType":"EDIT","add_annotation_line":1,"add_call_line":5,"add_classname_line":1,"add_condition_line":0,"add_field_line":0,"add_import_line":0,"add_packageid_line":0,"add_parameter_line":0,"add_return_line":1,"del_annotation_line":0,"del_call_line":0,"del_classname_line":1,"del_condition_line":0,"del_field_line":0,"del_import_line":0,"del_packageid_line":0,"del_parameter_line":0,"del_return_line":0,"label":"NEGATIVE","prod_commitID":"5c29b5fb74856c84079b8def413958cdea392c26","test_commitID":"","isfound":"not found test change","originPro":"package org.biojava.bio.structure.scop;\n\nimport java.io.Serializable;\nimport java.io.StringWriter;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlRootElement;\n\n/** Contains data from\n * dir.des.scop.txt_1.75\n * \n * <p>e.g \n * <pre>\n * SunID\tCat\tClass   \tName\tDescription\n * -----\t---\t-----   \t----\t-----------\n * 26154\tpx\tb.47.1.2\td1nrs.1\t1nrs L:,H:\n * 125030\tpx\tb.47.1.2\td1zgia1\t1zgi A:1A-245\n * </pre>\n * \n * @author Andreas Prlic\n *\n */\n@XmlRootElement(name = \"ScopDescription\", namespace =\"http://source.rcsb.org\")\n@XmlAccessorType(XmlAccessType.PUBLIC_MEMBER)\npublic class ScopDescription implements Serializable{\n\t/**\n\t * \n\t */\n\tprivate static final long serialVersionUID = 8579808155176839161L;\n\tint sunID;\n\tScopCategory category;\n\tString classificationId;\n\tString name;\n\tString description;\n\n\n\tpublic String toString(){\n\t\tStringWriter buf = new StringWriter();\n\n\t\tbuf.append(sunID+\"\");\n\t\tbuf.append(\"\\t\");\n\t\tbuf.append(category.toString());\n\t\tbuf.append(\"\\t\");\n\t\tbuf.append(classificationId);\n\t\tbuf.append(\"\\t\");\n\t\tbuf.append(name);\n\t\tbuf.append(\"\\t\");\n\t\tbuf.append(description);\n\n\t\treturn buf.toString();\n\t}\n\n\n\tpublic int getSunID()\n\t{\n\t\treturn sunID;\n\t}\n\tpublic void setSunID(int sunID)\n\t{\n\t\tthis.sunID = sunID;\n\t}\n\tpublic ScopCategory getCategory()\n\t{\n\t\treturn category;\n\t}\n\tpublic void setCategory(ScopCategory category)\n\t{\n\t\tthis.category = category;\n\t}\n\tpublic String getClassificationId()\n\t{\n\t\treturn classificationId;\n\t}\n\tpublic void setClassificationId(String classificationId)\n\t{\n\t\tthis.classificationId = classificationId;\n\t}\n\tpublic String getName()\n\t{\n\t\treturn name;\n\t}\n\tpublic void setName(String name)\n\t{\n\t\tthis.name = name;\n\t}\n\tpublic String getDescription()\n\t{\n\t\treturn description;\n\t}\n\tpublic void setDescription(String description)\n\t{\n\t\tthis.description = description;\n\t}\n\n\t// Methods to return parts of the classificationID\n\n\t/**\n\t * Return a portion of the classificationID corresponding to the specified\n\t * category (class, fold, superfamily, family).\n\t * \n\t * <p>Example: for SCOP family \"b.5.1.1\",\n\t * getClassificationId(ScopCategory.Superfamily) => \"b.5.1\"\n\t */\n\tpublic String getClassificationId(ScopCategory category) {\n\t\tif(classificationId == null || classificationId.isEmpty()) {\n\t\t\treturn null;\n\t\t}\n\n\t\tint numParts = 0;\n\t\tswitch(category) {\n\t\tcase Family:      numParts++;\n\t\tcase Superfamily: numParts++;\n\t\tcase Fold:        numParts++;\n\t\tcase Class:       numParts++; break;\n\t\tdefault:\n\t\t\tthrow new IllegalArgumentException(\"Only Class, Fold, Superfamily, and Family are supported.\");\n\t\t}\n\n\t\tint endChar = -1;\n\t\tfor(int i = 0;i<numParts-1;i++) {\n\t\t\tendChar = classificationId.indexOf('.', endChar+1);\n\t\t\tif(endChar<0) {\n\t\t\t\t// Not enough items in the classification for this category\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\tendChar = classificationId.indexOf('.', endChar+1);\n\t\tif(endChar<0) {\n\t\t\t// category goes to the end\n\t\t\treturn classificationId;\n\t\t}\n\t\telse {\n\t\t\treturn classificationId.substring(0, endChar);\n\t\t}\n\n\t}\n\n\t/**\n\t * @return\n\t * @see java.lang.Object#hashCode()\n\t */\n\t@Override\n\tpublic int hashCode() {\n\t\tfinal int prime = 31;\n\t\tint result = 1;\n\t\tresult = prime * result\n\t\t+ ((category == null) ? 0 : category.hashCode());\n\t\tresult = prime\n\t\t* result\n\t\t+ ((classificationId == null) ? 0 : classificationId.hashCode());\n\t\tresult = prime * result + ((name == null) ? 0 : name.hashCode());\n\t\tresult = prime * result + sunID;\n\t\treturn result;\n\t}\n\n\n\t/**\n\t * Compares the fields sunID, category, classificationId, and name for equality\n\t * \n\t * @param obj\n\t * @return\n\t * @see java.lang.Object#equals(java.lang.Object)\n\t */\n\t@Override\n\tpublic boolean equals(Object obj) {\n\t\tif (this == obj) {\n\t\t\treturn true;\n\t\t}\n\t\tif (obj == null) {\n\t\t\treturn false;\n\t\t}\n\t\tif (getClass() != obj.getClass()) {\n\t\t\treturn false;\n\t\t}\n\t\tScopDescription other = (ScopDescription) obj;\n\t\tif (category == null) {\n\t\t\tif (other.category != null) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else if (!category.equals(other.category)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (classificationId == null) {\n\t\t\tif (other.classificationId != null) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else if (!classificationId.equals(other.classificationId)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (name == null) {\n\t\t\tif (other.name != null) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else if (!name.equals(other.name)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (sunID != other.sunID) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n}\n","changedPro":"package org.biojava.bio.structure.scop;\n\nimport java.io.Serializable;\nimport java.io.StringWriter;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlRootElement;\n\n/** Contains data from\n * dir.des.scop.txt_1.75\n * \n * <p>e.g \n * <pre>\n * SunID\tCat\tClass   \tName\tDescription\n * -----\t---\t-----   \t----\t-----------\n * 26154\tpx\tb.47.1.2\td1nrs.1\t1nrs L:,H:\n * 125030\tpx\tb.47.1.2\td1zgia1\t1zgi A:1A-245\n * </pre>\n * \n * @author Andreas Prlic\n *\n */\n@XmlRootElement(name = \"ScopDescription\", namespace =\"http://source.rcsb.org\")\n@XmlAccessorType(XmlAccessType.PUBLIC_MEMBER)\npublic class ScopDescription implements Serializable,Cloneable{\n\t/**\n\t * \n\t */\n\tprivate static final long serialVersionUID = 8579808155176839161L;\n\tint sunID;\n\tScopCategory category;\n\tString classificationId;\n\tString name;\n\tString description;\n\n\n\tpublic String toString(){\n\t\tStringWriter buf = new StringWriter();\n\n\t\tbuf.append(sunID+\"\");\n\t\tbuf.append(\"\\t\");\n\t\tbuf.append(category.toString());\n\t\tbuf.append(\"\\t\");\n\t\tbuf.append(classificationId);\n\t\tbuf.append(\"\\t\");\n\t\tbuf.append(name);\n\t\tbuf.append(\"\\t\");\n\t\tbuf.append(description);\n\n\t\treturn buf.toString();\n\t}\n\n\n\tpublic int getSunID()\n\t{\n\t\treturn sunID;\n\t}\n\tpublic void setSunID(int sunID)\n\t{\n\t\tthis.sunID = sunID;\n\t}\n\tpublic ScopCategory getCategory()\n\t{\n\t\treturn category;\n\t}\n\tpublic void setCategory(ScopCategory category)\n\t{\n\t\tthis.category = category;\n\t}\n\tpublic String getClassificationId()\n\t{\n\t\treturn classificationId;\n\t}\n\tpublic void setClassificationId(String classificationId)\n\t{\n\t\tthis.classificationId = classificationId;\n\t}\n\tpublic String getName()\n\t{\n\t\treturn name;\n\t}\n\tpublic void setName(String name)\n\t{\n\t\tthis.name = name;\n\t}\n\tpublic String getDescription()\n\t{\n\t\treturn description;\n\t}\n\tpublic void setDescription(String description)\n\t{\n\t\tthis.description = description;\n\t}\n\n\t// Methods to return parts of the classificationID\n\n\t/**\n\t * Return a portion of the classificationID corresponding to the specified\n\t * category (class, fold, superfamily, family).\n\t * \n\t * <p>Example: for SCOP family \"b.5.1.1\",\n\t * getClassificationId(ScopCategory.Superfamily) => \"b.5.1\"\n\t */\n\tpublic String getClassificationId(ScopCategory category) {\n\t\tif(classificationId == null || classificationId.isEmpty()) {\n\t\t\treturn null;\n\t\t}\n\n\t\tint numParts = 0;\n\t\tswitch(category) {\n\t\tcase Family:      numParts++;\n\t\tcase Superfamily: numParts++;\n\t\tcase Fold:        numParts++;\n\t\tcase Class:       numParts++; break;\n\t\tdefault:\n\t\t\tthrow new IllegalArgumentException(\"Only Class, Fold, Superfamily, and Family are supported.\");\n\t\t}\n\n\t\tint endChar = -1;\n\t\tfor(int i = 0;i<numParts-1;i++) {\n\t\t\tendChar = classificationId.indexOf('.', endChar+1);\n\t\t\tif(endChar<0) {\n\t\t\t\t// Not enough items in the classification for this category\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\tendChar = classificationId.indexOf('.', endChar+1);\n\t\tif(endChar<0) {\n\t\t\t// category goes to the end\n\t\t\treturn classificationId;\n\t\t}\n\t\telse {\n\t\t\treturn classificationId.substring(0, endChar);\n\t\t}\n\n\t}\n\n\t/**\n\t * @return\n\t * @see java.lang.Object#hashCode()\n\t */\n\t@Override\n\tpublic int hashCode() {\n\t\tfinal int prime = 31;\n\t\tint result = 1;\n\t\tresult = prime * result\n\t\t+ ((category == null) ? 0 : category.hashCode());\n\t\tresult = prime\n\t\t* result\n\t\t+ ((classificationId == null) ? 0 : classificationId.hashCode());\n\t\tresult = prime * result + ((name == null) ? 0 : name.hashCode());\n\t\tresult = prime * result + sunID;\n\t\treturn result;\n\t}\n\n\n\t/**\n\t * Compares the fields sunID, category, classificationId, and name for equality\n\t * \n\t * @param obj\n\t * @return\n\t * @see java.lang.Object#equals(java.lang.Object)\n\t */\n\t@Override\n\tpublic boolean equals(Object obj) {\n\t\tif (this == obj) {\n\t\t\treturn true;\n\t\t}\n\t\tif (obj == null) {\n\t\t\treturn false;\n\t\t}\n\t\tif (getClass() != obj.getClass()) {\n\t\t\treturn false;\n\t\t}\n\t\tScopDescription other = (ScopDescription) obj;\n\t\tif (category == null) {\n\t\t\tif (other.category != null) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else if (!category.equals(other.category)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (classificationId == null) {\n\t\t\tif (other.classificationId != null) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else if (!classificationId.equals(other.classificationId)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (name == null) {\n\t\t\tif (other.name != null) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else if (!name.equals(other.name)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (sunID != other.sunID) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\n\t@Override\n\tprotected Object clone() throws CloneNotSupportedException {\n\t\tScopDescription n = new ScopDescription();\n\t\t\n\t\tn.setCategory(getCategory());\n\t\tn.setClassificationId(getClassificationId());\n\t\tn.setDescription(getDescription());\n\t\tn.setName(getName());\n\t\tn.setSunID(getSunID());\n\t\treturn n;\n\t}\n\n\t\n\t\n}\n","originTest":"/**\n * \n */\npackage org.biojava.bio.structure.scop;\n\nimport junit.framework.TestCase;\n\n\n/**\n * @author Spencer Bliven <sbliven@ucsd.edu>\n *\n */\npublic class ScopDescriptionTest extends TestCase{\n\tpublic void testClassification() {\n\t\tScopDescription s = new ScopDescription();\n\t\ts.setClassificationId(\"b.12.1.7\");\n\t\t\n\t\tString scopClass;\n\t\t\n\t\ttry {\n\t\t\tscopClass = s.getClassificationId(ScopCategory.Px);\n\t\t\tfail(\"Illegal category. Should have thrown IllegalArgumentException\");\n\t\t} catch( IllegalArgumentException e) {\n\t\t\t//expected\n\t\t}\n\t\t\n\t\tscopClass = s.getClassificationId(ScopCategory.Class);\n\t\tassertEquals(\"b\",scopClass);\n\t\t\n\t\tscopClass = s.getClassificationId(ScopCategory.Fold);\n\t\tassertEquals(\"b.12\",scopClass);\n\t\t\n\t\tscopClass = s.getClassificationId(ScopCategory.Superfamily);\n\t\tassertEquals(\"b.12.1\",scopClass);\n\t\t\n\t\tscopClass = s.getClassificationId(ScopCategory.Family);\n\t\tassertEquals(\"b.12.1.7\",scopClass);\n\n\t\t\n\t\ts.setClassificationId(\"k.14\");\n\t\t\n\t\tscopClass = s.getClassificationId(ScopCategory.Class);\n\t\tassertEquals(\"k\",scopClass);\n\t\t\n\t\tscopClass = s.getClassificationId(ScopCategory.Fold);\n\t\tassertEquals(\"k.14\",scopClass);\n\t\t\n\t\tscopClass = s.getClassificationId(ScopCategory.Superfamily);\n\t\tassertNull(scopClass);\n\t\t\n\t\tscopClass = s.getClassificationId(ScopCategory.Family);\n\t\tassertNull(scopClass);\n\t}\n}\n","changedTest":"","commitMessage":"Improved speed and caching behavior with new CachedRemoteScopInstallation\n\ngit-svn-id: http://code.open-bio.org/repos/biojava/biojava-live/trunk@9347 7c6358e6-4a41-0410-a743-a5b2a554c398\n","test_commitMessage":"","allZero":false}