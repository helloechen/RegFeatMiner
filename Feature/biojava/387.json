{"repository":"biojava","prod_path":"biojava-core/src/main/java/org/biojava/nbio/core/search/io/Hsp.java","test_path":"biojava-core/src/test/java/org/biojava/nbio/core/search/io/HspTest.java","prod_time":"2015-09-09 21:01:51","test_time":"2015-09-09 21:01:51","type":"EDIT","proType":"EDIT","add_annotation_line":0,"add_call_line":0,"add_classname_line":0,"add_condition_line":0,"add_field_line":0,"add_import_line":0,"add_packageid_line":0,"add_parameter_line":0,"add_return_line":0,"del_annotation_line":0,"del_call_line":0,"del_classname_line":0,"del_condition_line":0,"del_field_line":0,"del_import_line":0,"del_packageid_line":0,"del_parameter_line":0,"del_return_line":0,"label":"POSITIVE","prod_commitID":"8026d8f5d7e4b7b69ed76d3ba0796dc4c9551775","test_commitID":"8026d8f5d7e4b7b69ed76d3ba0796dc4c9551775","isfound":"found test change","originPro":"/*\r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\n\r\npackage org.biojava.nbio.core.search.io;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\nimport org.biojava.nbio.alignment.SimpleAlignedSequence;\r\nimport org.biojava.nbio.alignment.SimpleSequencePair;\r\nimport org.biojava.nbio.alignment.template.AlignedSequence.Step;\r\nimport org.biojava.nbio.alignment.template.SequencePair;\r\nimport org.biojava.nbio.core.exceptions.CompoundNotFoundException;\r\nimport org.biojava.nbio.core.sequence.DNASequence;\r\nimport org.biojava.nbio.core.sequence.ProteinSequence;\r\nimport org.biojava.nbio.core.sequence.RNASequence;\r\nimport org.biojava.nbio.core.sequence.compound.AminoAcidCompoundSet;\r\nimport org.biojava.nbio.core.sequence.compound.DNACompoundSet;\r\nimport org.biojava.nbio.core.sequence.template.Compound;\r\nimport org.biojava.nbio.core.sequence.template.Sequence;\r\n\r\n/**\r\n *\r\n * @author pavanpa\r\n */\r\npublic abstract class Hsp <S extends Sequence<C>, C extends Compound> {\r\n    private Integer hspNum;\r\n    private Double hspBitScore;\r\n    private Integer hspScore;\r\n    private Double hspEvalue;\r\n    private Integer hspQueryFrom;\r\n    private Integer hspQueryTo;\r\n    private Integer hspHitFrom;\r\n    private Integer hspHitTo;\r\n    private Integer hspQueryFrame;\r\n    private Integer hspHitFrame;\r\n    private Integer hspIdentity;\r\n    private Integer hspPositive;\r\n    private Integer hspGaps;\r\n    private Integer hspAlignLen;\r\n    private String hspQseq;\r\n    private String hspHseq;\r\n    private String hspIdentityString;\r\n    private Double percentageIdentity = null;\r\n    private Integer mismatchCount = null;\r\n    private SimpleSequencePair<S, C> returnAln;\r\n    \r\n    /**\r\n     * Experimental.\r\n     * Wants to return an hashcode designed to allow conceptual comparisons of search results.\r\n     * Fields unrelated to search are deliberately not considered.\r\n     * @return \r\n     */\r\n    public int hashCode(){\r\n        String allInOne = hspQseq+\"\\n\"+hspIdentityString+\"\\n\"+hspHseq;\r\n        return allInOne.hashCode();\r\n    }\r\n    \r\n    @Override\r\n    public boolean equals(Object o){\r\n        if (!(o instanceof Hsp)) return false;\r\n        \r\n        return o.hashCode() == this.hashCode();\r\n    }\r\n    \r\n    public SequencePair<S,C> getAlignment(){\r\n        if (returnAln != null) return returnAln;\r\n        \r\n        SimpleAlignedSequence alignedQuery, alignedHit;\r\n        // queryFrom e hitTo?\r\n        int numBefore, numAfter;\r\n        \r\n        alignedQuery = new SimpleAlignedSequence(getSequence(hspQseq), getAlignmentsSteps(hspQseq));\r\n        alignedHit = new SimpleAlignedSequence(getSequence(hspHseq), getAlignmentsSteps(hspHseq));\r\n        \r\n        returnAln = new SimpleSequencePair<S, C>(alignedQuery, alignedHit);\r\n        \r\n        return returnAln;\r\n    }\r\n    \r\n    private Sequence getSequence(String gappedSequenceString){\r\n        Sequence returnSeq = null;\r\n        String sequenceString = gappedSequenceString.replace(\"-\", \"\");\r\n        \r\n        try {\r\n            if (sequenceString.matches(\"^[ACTG]+$\")) \r\n                returnSeq = new DNASequence(sequenceString, DNACompoundSet.getDNACompoundSet());\r\n            else if (sequenceString.matches(\"^[ACUG]+$\"))\r\n                returnSeq = new RNASequence(sequenceString, DNACompoundSet.getDNACompoundSet());\r\n            else\r\n                returnSeq = new ProteinSequence(sequenceString, AminoAcidCompoundSet.getAminoAcidCompoundSet());\r\n        } catch (CompoundNotFoundException ex) {\r\n            Logger.getLogger(Hsp.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n        return returnSeq;\r\n    }\r\n    \r\n    private List<Step> getAlignmentsSteps(String gappedSequenceString){\r\n        List<Step> returnList = new ArrayList();\r\n        \r\n        for (char c: gappedSequenceString.toCharArray()){\r\n            if (c=='-') returnList.add(Step.GAP); else returnList.add(Step.COMPOUND);\r\n        }\r\n        return returnList;\r\n    }\r\n\r\n    public int getHspNum() {\r\n        return hspNum;\r\n    }\r\n\r\n    public double getHspBitScore() {\r\n        return hspBitScore;\r\n    }\r\n\r\n    public int getHspScore() {\r\n        return hspScore;\r\n    }\r\n\r\n    public double getHspEvalue() {\r\n        return hspEvalue;\r\n    }\r\n\r\n    public int getHspQueryFrom() {\r\n        return hspQueryFrom;\r\n    }\r\n\r\n    public int getHspQueryTo() {\r\n        return hspQueryTo;\r\n    }\r\n\r\n    public int getHspHitFrom() {\r\n        return hspHitFrom;\r\n    }\r\n\r\n    public int getHspHitTo() {\r\n        return hspHitTo;\r\n    }\r\n\r\n    public int getHspQueryFrame() {\r\n        return hspQueryFrame;\r\n    }\r\n\r\n    public int getHspHitFrame() {\r\n        return hspHitFrame;\r\n    }\r\n\r\n    public int getHspIdentity() {\r\n        return hspIdentity;\r\n    }\r\n\r\n    public int getHspPositive() {\r\n        return hspPositive;\r\n    }\r\n\r\n    public int getHspGaps() {\r\n        return hspGaps;\r\n    }\r\n\r\n    public int getHspAlignLen() {\r\n        return hspAlignLen;\r\n    }\r\n    /**\r\n     * HSP aligned query sequence string\r\n     * @return \r\n     */\r\n    public String getHspQseq() {\r\n        return hspQseq;\r\n    }\r\n    /**\r\n     * HSP aligned hit sequence string\r\n     * @return \r\n     */\r\n    public String getHspHseq() {\r\n        return hspHseq;\r\n    }\r\n    /**\r\n     * Identity string representing correspondence between aligned residues\r\n     * @return \r\n     */\r\n    public String getHspIdentityString() {\r\n        return hspIdentityString;\r\n    }\r\n\r\n    public Double getPercentageIdentity() {\r\n        if (percentageIdentity != null) return percentageIdentity;\r\n        if (hspIdentity!= null && hspAlignLen != null) return (double)hspIdentity/hspAlignLen;\r\n        return null;\r\n    }\r\n\r\n    public Integer getMismatchCount() {\r\n        if (mismatchCount != null) return mismatchCount;\r\n        if (hspIdentity!= null && hspAlignLen != null) return hspIdentity-hspAlignLen;\r\n        return null;\r\n    }\r\n\r\n    public Hsp(int hspNum, double hspBitScore, int hspScore, double hspEvalue, int hspQueryFrom, int hspQueryTo, int hspHitFrom, int hspHitTo, int hspQueryFrame, int hspHitFrame, int hspIdentity, int hspPositive, int hspGaps, int hspAlignLen, String hspQseq, String hspHseq, String hspIdentityString, Double percentageIdentity, Integer mismatchCount) {\r\n        this.hspNum = hspNum;\r\n        this.hspBitScore = hspBitScore;\r\n        this.hspScore = hspScore;\r\n        this.hspEvalue = hspEvalue;\r\n        this.hspQueryFrom = hspQueryFrom;\r\n        this.hspQueryTo = hspQueryTo;\r\n        this.hspHitFrom = hspHitFrom;\r\n        this.hspHitTo = hspHitTo;\r\n        this.hspQueryFrame = hspQueryFrame;\r\n        this.hspHitFrame = hspHitFrame;\r\n        this.hspIdentity = hspIdentity;\r\n        this.hspPositive = hspPositive;\r\n        this.hspGaps = hspGaps;\r\n        this.hspIdentity = hspAlignLen;\r\n        this.hspQseq = hspQseq;\r\n        this.hspHseq = hspHseq;\r\n        this.hspIdentityString = hspIdentityString;\r\n        this.percentageIdentity = percentageIdentity; \r\n        this.mismatchCount = mismatchCount;\r\n        \r\n        // sanity check\r\n        if (percentageIdentity != null && (percentageIdentity < 0 || percentageIdentity >1))\r\n            throw new IllegalArgumentException(\"Percentage identity must be between 0 and 1\");\r\n        \r\n    }\r\n      \r\n}\r\n","changedPro":"package org.biojava.nbio.core.search.io;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\nimport org.biojava.nbio.alignment.SimpleAlignedSequence;\r\nimport org.biojava.nbio.alignment.SimpleSequencePair;\r\nimport org.biojava.nbio.alignment.template.AlignedSequence.Step;\r\nimport org.biojava.nbio.alignment.template.SequencePair;\r\nimport org.biojava.nbio.core.exceptions.CompoundNotFoundException;\r\nimport org.biojava.nbio.core.sequence.DNASequence;\r\nimport org.biojava.nbio.core.sequence.ProteinSequence;\r\nimport org.biojava.nbio.core.sequence.RNASequence;\r\nimport org.biojava.nbio.core.sequence.compound.AminoAcidCompoundSet;\r\nimport org.biojava.nbio.core.sequence.compound.DNACompoundSet;\r\nimport org.biojava.nbio.core.sequence.template.Compound;\r\nimport org.biojava.nbio.core.sequence.template.Sequence;\r\n\r\n/**\r\n * This class models a search Hsp.\r\n * You will retrieve a list of this using iterator of a Hit\r\n * \r\n * Designed by Paolo Pavan.\r\n * You may want to find my contacts on Github and LinkedIn for code info \r\n * or discuss major changes.\r\n * https://github.com/paolopavan\r\n * \r\n * @author Paolo Pavan\r\n */\r\n\r\npublic abstract class Hsp <S extends Sequence<C>, C extends Compound> {\r\n    private Integer hspNum;\r\n    private Double hspBitScore;\r\n    private Integer hspScore;\r\n    private Double hspEvalue;\r\n    private Integer hspQueryFrom;\r\n    private Integer hspQueryTo;\r\n    private Integer hspHitFrom;\r\n    private Integer hspHitTo;\r\n    private Integer hspQueryFrame;\r\n    private Integer hspHitFrame;\r\n    private Integer hspIdentity;\r\n    private Integer hspPositive;\r\n    private Integer hspGaps;\r\n    private Integer hspAlignLen;\r\n    private String hspQseq;\r\n    private String hspHseq;\r\n    private String hspIdentityString;\r\n    private Double percentageIdentity = null;\r\n    private Integer mismatchCount = null;\r\n    private SimpleSequencePair<S, C> returnAln;\r\n    \r\n    /**\r\n     * Experimental.\r\n     * Wants to return an hashcode designed to allow conceptual comparisons of search results.\r\n     * Fields unrelated to search are deliberately not considered.\r\n     * @return \r\n     */\r\n    public int hashCode(){\r\n        String allInOne = hspQseq+\"\\n\"+hspIdentityString+\"\\n\"+hspHseq;\r\n        return allInOne.hashCode();\r\n    }\r\n    \r\n    @Override\r\n    public boolean equals(Object o){\r\n        if (!(o instanceof Hsp)) return false;\r\n        \r\n        return o.hashCode() == this.hashCode();\r\n    }\r\n    \r\n    public SequencePair<S,C> getAlignment(){\r\n        if (returnAln != null) return returnAln;\r\n        \r\n        SimpleAlignedSequence alignedQuery, alignedHit;\r\n        // queryFrom e hitTo?\r\n        int numBefore, numAfter;\r\n        \r\n        alignedQuery = new SimpleAlignedSequence(getSequence(hspQseq), getAlignmentsSteps(hspQseq));\r\n        alignedHit = new SimpleAlignedSequence(getSequence(hspHseq), getAlignmentsSteps(hspHseq));\r\n        \r\n        returnAln = new SimpleSequencePair<S, C>(alignedQuery, alignedHit);\r\n        \r\n        return returnAln;\r\n    }\r\n    \r\n    private Sequence getSequence(String gappedSequenceString){\r\n        Sequence returnSeq = null;\r\n        String sequenceString = gappedSequenceString.replace(\"-\", \"\");\r\n        \r\n        try {\r\n            if (sequenceString.matches(\"^[ACTG]+$\")) \r\n                returnSeq = new DNASequence(sequenceString, DNACompoundSet.getDNACompoundSet());\r\n            else if (sequenceString.matches(\"^[ACUG]+$\"))\r\n                returnSeq = new RNASequence(sequenceString, DNACompoundSet.getDNACompoundSet());\r\n            else\r\n                returnSeq = new ProteinSequence(sequenceString, AminoAcidCompoundSet.getAminoAcidCompoundSet());\r\n        } catch (CompoundNotFoundException ex) {\r\n            Logger.getLogger(Hsp.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n        return returnSeq;\r\n    }\r\n    \r\n    private List<Step> getAlignmentsSteps(String gappedSequenceString){\r\n        List<Step> returnList = new ArrayList();\r\n        \r\n        for (char c: gappedSequenceString.toCharArray()){\r\n            if (c=='-') returnList.add(Step.GAP); else returnList.add(Step.COMPOUND);\r\n        }\r\n        return returnList;\r\n    }\r\n\r\n    public int getHspNum() {\r\n        return hspNum;\r\n    }\r\n\r\n    public double getHspBitScore() {\r\n        return hspBitScore;\r\n    }\r\n\r\n    public int getHspScore() {\r\n        return hspScore;\r\n    }\r\n\r\n    public double getHspEvalue() {\r\n        return hspEvalue;\r\n    }\r\n\r\n    public int getHspQueryFrom() {\r\n        return hspQueryFrom;\r\n    }\r\n\r\n    public int getHspQueryTo() {\r\n        return hspQueryTo;\r\n    }\r\n\r\n    public int getHspHitFrom() {\r\n        return hspHitFrom;\r\n    }\r\n\r\n    public int getHspHitTo() {\r\n        return hspHitTo;\r\n    }\r\n\r\n    public int getHspQueryFrame() {\r\n        return hspQueryFrame;\r\n    }\r\n\r\n    public int getHspHitFrame() {\r\n        return hspHitFrame;\r\n    }\r\n\r\n    public int getHspIdentity() {\r\n        return hspIdentity;\r\n    }\r\n\r\n    public int getHspPositive() {\r\n        return hspPositive;\r\n    }\r\n\r\n    public int getHspGaps() {\r\n        return hspGaps;\r\n    }\r\n\r\n    public int getHspAlignLen() {\r\n        return hspAlignLen;\r\n    }\r\n    /**\r\n     * HSP aligned query sequence string\r\n     * @return \r\n     */\r\n    public String getHspQseq() {\r\n        return hspQseq;\r\n    }\r\n    /**\r\n     * HSP aligned hit sequence string\r\n     * @return \r\n     */\r\n    public String getHspHseq() {\r\n        return hspHseq;\r\n    }\r\n    /**\r\n     * Identity string representing correspondence between aligned residues\r\n     * @return \r\n     */\r\n    public String getHspIdentityString() {\r\n        return hspIdentityString;\r\n    }\r\n\r\n    public Double getPercentageIdentity() {\r\n        if (percentageIdentity != null) return percentageIdentity;\r\n        if (hspIdentity!= null && hspAlignLen != null) return (double)hspIdentity/hspAlignLen;\r\n        return null;\r\n    }\r\n\r\n    public Integer getMismatchCount() {\r\n        if (mismatchCount != null) return mismatchCount;\r\n        if (hspIdentity!= null && hspAlignLen != null) return hspIdentity-hspAlignLen;\r\n        return null;\r\n    }\r\n\r\n    public Hsp(int hspNum, double hspBitScore, int hspScore, double hspEvalue, int hspQueryFrom, int hspQueryTo, int hspHitFrom, int hspHitTo, int hspQueryFrame, int hspHitFrame, int hspIdentity, int hspPositive, int hspGaps, int hspAlignLen, String hspQseq, String hspHseq, String hspIdentityString, Double percentageIdentity, Integer mismatchCount) {\r\n        this.hspNum = hspNum;\r\n        this.hspBitScore = hspBitScore;\r\n        this.hspScore = hspScore;\r\n        this.hspEvalue = hspEvalue;\r\n        this.hspQueryFrom = hspQueryFrom;\r\n        this.hspQueryTo = hspQueryTo;\r\n        this.hspHitFrom = hspHitFrom;\r\n        this.hspHitTo = hspHitTo;\r\n        this.hspQueryFrame = hspQueryFrame;\r\n        this.hspHitFrame = hspHitFrame;\r\n        this.hspIdentity = hspIdentity;\r\n        this.hspPositive = hspPositive;\r\n        this.hspGaps = hspGaps;\r\n        this.hspIdentity = hspAlignLen;\r\n        this.hspQseq = hspQseq;\r\n        this.hspHseq = hspHseq;\r\n        this.hspIdentityString = hspIdentityString;\r\n        this.percentageIdentity = percentageIdentity; \r\n        this.mismatchCount = mismatchCount;\r\n        \r\n        // sanity check\r\n        if (percentageIdentity != null && (percentageIdentity < 0 || percentageIdentity >1))\r\n            throw new IllegalArgumentException(\"Percentage identity must be between 0 and 1\");\r\n        \r\n    }\r\n      \r\n}\r\n","originTest":"/*\r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\npackage org.biojava.nbio.core.search.io;\r\n\r\nimport org.biojava.nbio.alignment.template.SequencePair;\r\nimport org.biojava.nbio.core.search.io.blast.BlastHspBuilder;\r\nimport org.biojava.nbio.core.sequence.DNASequence;\r\nimport org.biojava.nbio.core.sequence.compound.NucleotideCompound;\r\nimport org.junit.After;\r\nimport org.junit.AfterClass;\r\nimport org.junit.Before;\r\nimport org.junit.BeforeClass;\r\nimport org.junit.Test;\r\nimport static org.junit.Assert.*;\r\nimport org.junit.Ignore;\r\n\r\n/**\r\n *\r\n * @author pavanpa\r\n */\r\npublic class HspTest {\r\n    \r\n    Hsp hspImpl = new BlastHspBuilder()\r\n                .setHspNum(1)\r\n                .setHspBitScore(377.211)\r\n                .setHspEvalue(8.04143e-093)\r\n                .setHspQueryFrom(1)\r\n                .setHspQueryTo(224)\r\n                .setHspHitFrom(1035)\r\n                .setHspHitTo(811)\r\n                .setHspQueryFrame(-1)\r\n                .setHspIdentity(213)\r\n                .setHspPositive(213)\r\n                .setHspGaps(5)\r\n                .setHspAlignLen(227)\r\n                .setHspQseq(\"CTGACGACAGCCATGCACCACCTGTCTCGACTTTCCCCCGAAGGGCACCTAATGTATCTCTACCTCGTTAGTCGGATGTCAAGACCTGGTAAGGTTTTTTCGCGTATCTTCGAATTAAACCACATACTCCACTGCTTGTGCGG-CCCCCGTCAATTCCTTTGAGTTTCAACCTTGCGGCCGTACTCCC-AGGTGGA-TACTTATTGTGTTAACTCCGGCACGGAAGG\")\r\n                .setHspHseq(\"CTGACGACAACCATGCACCACCTGTCTCAACTTTCCCC-GAAGGGCACCTAATGTATCTCTACTTCGTTAGTTGGATGTCAAGACCTGGTAAGGTT-CTTCGCGTTGCTTCGAATTAAACCACATACTCCACTGCTTGTGCGGGCCCCCGTCAATTCCTTTGAGTTTCAACCTTGCGGTCGTACTCCCCAGGTGGATTACTTATTGTGTTAACTCCGGCACAGAAGG\")\r\n                .setHspIdentityString(\"||||||||| |||||||||||||||||| ||||||||| |||||||||||||||||||||||| |||||||| |||||||||||||||||||||||  |||||||  |||||||||||||||||||||||||||||||||||| |||||||||||||||||||||||||||||||||| ||||||||| ||||||| |||||||||||||||||||||||| |||||\")\r\n                .createBlastHsp();\r\n    \r\n    public HspTest() {\r\n    }\r\n    \r\n    @BeforeClass\r\n    public static void setUpClass() {\r\n    }\r\n    \r\n    @AfterClass\r\n    public static void tearDownClass() {\r\n    }\r\n    \r\n    @Before\r\n    public void setUp() {\r\n    }\r\n    \r\n    @After\r\n    public void tearDown() {\r\n    }\r\n\r\n    /**\r\n     * Test of hashCode method, of class Hsp.\r\n     */\r\n    @Test\r\n    public void testHashCode() {\r\n        System.out.println(\"hashCode\");\r\n        Hsp instance = hspImpl;\r\n        int expResult = 879126434;\r\n        int result = instance.hashCode();\r\n        assertEquals(expResult, result);\r\n    }\r\n\r\n    /**\r\n     * Test of equals method, of class Hsp.\r\n     */\r\n    @Test\r\n    public void testEquals() {\r\n        System.out.println(\"equals\");\r\n        Object o = new BlastHspBuilder()\r\n                .setHspNum(1)\r\n                .setHspBitScore(377.211)\r\n                .setHspEvalue(8.04143e-093)\r\n                .setHspQueryFrom(1)\r\n                .setHspQueryTo(224)\r\n                .setHspHitFrom(1035)\r\n                .setHspHitTo(811)\r\n                .setHspQueryFrame(-1)\r\n                .setHspIdentity(213)\r\n                .setHspPositive(213)\r\n                .setHspGaps(5)\r\n                .setHspAlignLen(227)\r\n                .setHspQseq(\"CTGACGACAGCCATGCACCACCTGTCTCGACTTTCCCCCGAAGGGCACCTAATGTATCTCTACCTCGTTAGTCGGATGTCAAGACCTGGTAAGGTTTTTTCGCGTATCTTCGAATTAAACCACATACTCCACTGCTTGTGCGG-CCCCCGTCAATTCCTTTGAGTTTCAACCTTGCGGCCGTACTCCC-AGGTGGA-TACTTATTGTGTTAACTCCGGCACGGAAGG\")\r\n                .setHspHseq(\"CTGACGACAACCATGCACCACCTGTCTCAACTTTCCCC-GAAGGGCACCTAATGTATCTCTACTTCGTTAGTTGGATGTCAAGACCTGGTAAGGTT-CTTCGCGTTGCTTCGAATTAAACCACATACTCCACTGCTTGTGCGGGCCCCCGTCAATTCCTTTGAGTTTCAACCTTGCGGTCGTACTCCCCAGGTGGATTACTTATTGTGTTAACTCCGGCACAGAAGG\")\r\n                .setHspIdentityString(\"||||||||| |||||||||||||||||| ||||||||| |||||||||||||||||||||||| |||||||| |||||||||||||||||||||||  |||||||  |||||||||||||||||||||||||||||||||||| |||||||||||||||||||||||||||||||||| ||||||||| ||||||| |||||||||||||||||||||||| |||||\")\r\n                .createBlastHsp();\r\n        Hsp instance = hspImpl;\r\n        \r\n        assertEquals(o, instance);\r\n    }\r\n\r\n    /**\r\n     * Test of getAlignment method, of class Hsp.\r\n     */\r\n    @Test\r\n    public void testGetAlignment() {\r\n        System.out.println(\"getAlignment\");\r\n        \r\n        SequencePair<DNASequence, NucleotideCompound> aln = hspImpl.getAlignment();\r\n        \r\n        StringBuilder s = new StringBuilder();\r\n        s.append(hspImpl.getHspQseq());\r\n        s.append(String.format(\"%n\"));\r\n        s.append(hspImpl.getHspHseq());\r\n        s.append(String.format(\"%n\"));\r\n        \r\n        String expResult = s.toString();\r\n        \r\n        String result = aln.toString();\r\n        \r\n        assertEquals(expResult, result);\r\n    }\r\n    \r\n}\r\n","changedTest":"package org.biojava.nbio.core.search.io;\r\n\r\nimport org.biojava.nbio.alignment.template.SequencePair;\r\nimport org.biojava.nbio.core.search.io.blast.BlastHspBuilder;\r\nimport org.biojava.nbio.core.sequence.DNASequence;\r\nimport org.biojava.nbio.core.sequence.compound.NucleotideCompound;\r\nimport org.junit.After;\r\nimport org.junit.AfterClass;\r\nimport org.junit.Before;\r\nimport org.junit.BeforeClass;\r\nimport org.junit.Test;\r\nimport static org.junit.Assert.*;\r\n\r\n/**\r\n * Designed by Paolo Pavan.\r\n * You may want to find my contacts on Github and LinkedIn for code info \r\n * or discuss major changes.\r\n * https://github.com/paolopavan\r\n * \r\n * @author Paolo Pavan\r\n */\r\n\r\npublic class HspTest {\r\n    \r\n    Hsp hspImpl = new BlastHspBuilder()\r\n                .setHspNum(1)\r\n                .setHspBitScore(377.211)\r\n                .setHspEvalue(8.04143e-093)\r\n                .setHspQueryFrom(1)\r\n                .setHspQueryTo(224)\r\n                .setHspHitFrom(1035)\r\n                .setHspHitTo(811)\r\n                .setHspQueryFrame(-1)\r\n                .setHspIdentity(213)\r\n                .setHspPositive(213)\r\n                .setHspGaps(5)\r\n                .setHspAlignLen(227)\r\n                .setHspQseq(\"CTGACGACAGCCATGCACCACCTGTCTCGACTTTCCCCCGAAGGGCACCTAATGTATCTCTACCTCGTTAGTCGGATGTCAAGACCTGGTAAGGTTTTTTCGCGTATCTTCGAATTAAACCACATACTCCACTGCTTGTGCGG-CCCCCGTCAATTCCTTTGAGTTTCAACCTTGCGGCCGTACTCCC-AGGTGGA-TACTTATTGTGTTAACTCCGGCACGGAAGG\")\r\n                .setHspHseq(\"CTGACGACAACCATGCACCACCTGTCTCAACTTTCCCC-GAAGGGCACCTAATGTATCTCTACTTCGTTAGTTGGATGTCAAGACCTGGTAAGGTT-CTTCGCGTTGCTTCGAATTAAACCACATACTCCACTGCTTGTGCGGGCCCCCGTCAATTCCTTTGAGTTTCAACCTTGCGGTCGTACTCCCCAGGTGGATTACTTATTGTGTTAACTCCGGCACAGAAGG\")\r\n                .setHspIdentityString(\"||||||||| |||||||||||||||||| ||||||||| |||||||||||||||||||||||| |||||||| |||||||||||||||||||||||  |||||||  |||||||||||||||||||||||||||||||||||| |||||||||||||||||||||||||||||||||| ||||||||| ||||||| |||||||||||||||||||||||| |||||\")\r\n                .createBlastHsp();\r\n    \r\n    public HspTest() {\r\n    }\r\n    \r\n    @BeforeClass\r\n    public static void setUpClass() {\r\n    }\r\n    \r\n    @AfterClass\r\n    public static void tearDownClass() {\r\n    }\r\n    \r\n    @Before\r\n    public void setUp() {\r\n    }\r\n    \r\n    @After\r\n    public void tearDown() {\r\n    }\r\n\r\n    /**\r\n     * Test of hashCode method, of class Hsp.\r\n     */\r\n    @Test\r\n    public void testHashCode() {\r\n        System.out.println(\"hashCode\");\r\n        Hsp instance = hspImpl;\r\n        int expResult = 879126434;\r\n        int result = instance.hashCode();\r\n        assertEquals(expResult, result);\r\n    }\r\n\r\n    /**\r\n     * Test of equals method, of class Hsp.\r\n     */\r\n    @Test\r\n    public void testEquals() {\r\n        System.out.println(\"equals\");\r\n        Object o = new BlastHspBuilder()\r\n                .setHspNum(1)\r\n                .setHspBitScore(377.211)\r\n                .setHspEvalue(8.04143e-093)\r\n                .setHspQueryFrom(1)\r\n                .setHspQueryTo(224)\r\n                .setHspHitFrom(1035)\r\n                .setHspHitTo(811)\r\n                .setHspQueryFrame(-1)\r\n                .setHspIdentity(213)\r\n                .setHspPositive(213)\r\n                .setHspGaps(5)\r\n                .setHspAlignLen(227)\r\n                .setHspQseq(\"CTGACGACAGCCATGCACCACCTGTCTCGACTTTCCCCCGAAGGGCACCTAATGTATCTCTACCTCGTTAGTCGGATGTCAAGACCTGGTAAGGTTTTTTCGCGTATCTTCGAATTAAACCACATACTCCACTGCTTGTGCGG-CCCCCGTCAATTCCTTTGAGTTTCAACCTTGCGGCCGTACTCCC-AGGTGGA-TACTTATTGTGTTAACTCCGGCACGGAAGG\")\r\n                .setHspHseq(\"CTGACGACAACCATGCACCACCTGTCTCAACTTTCCCC-GAAGGGCACCTAATGTATCTCTACTTCGTTAGTTGGATGTCAAGACCTGGTAAGGTT-CTTCGCGTTGCTTCGAATTAAACCACATACTCCACTGCTTGTGCGGGCCCCCGTCAATTCCTTTGAGTTTCAACCTTGCGGTCGTACTCCCCAGGTGGATTACTTATTGTGTTAACTCCGGCACAGAAGG\")\r\n                .setHspIdentityString(\"||||||||| |||||||||||||||||| ||||||||| |||||||||||||||||||||||| |||||||| |||||||||||||||||||||||  |||||||  |||||||||||||||||||||||||||||||||||| |||||||||||||||||||||||||||||||||| ||||||||| ||||||| |||||||||||||||||||||||| |||||\")\r\n                .createBlastHsp();\r\n        Hsp instance = hspImpl;\r\n        \r\n        assertEquals(o, instance);\r\n    }\r\n\r\n    /**\r\n     * Test of getAlignment method, of class Hsp.\r\n     */\r\n    @Test\r\n    public void testGetAlignment() {\r\n        System.out.println(\"getAlignment\");\r\n        \r\n        SequencePair<DNASequence, NucleotideCompound> aln = hspImpl.getAlignment();\r\n        \r\n        StringBuilder s = new StringBuilder();\r\n        s.append(hspImpl.getHspQseq());\r\n        s.append(String.format(\"%n\"));\r\n        s.append(hspImpl.getHspHseq());\r\n        s.append(String.format(\"%n\"));\r\n        \r\n        String expResult = s.toString();\r\n        \r\n        String result = aln.toString();\r\n        \r\n        assertEquals(expResult, result);\r\n    }\r\n    \r\n}\r\n","commitMessage":"Comments and credits.\n","test_commitMessage":"Comments and credits.\n","allZero":true}